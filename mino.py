import numpy as np

MINOS = [[[[0, 0, 0, 0],
           [2, 2, 2, 2],
           [0, 0, 0, 0],
           [0, 0, 0, 0]],
          [[0, 0, 2, 0],
           [0, 0, 2, 0],
           [0, 0, 2, 0],
           [0, 0, 2, 0]],
          [[0, 0, 0, 0],
           [0, 0, 0, 0],
           [2, 2, 2, 2],
           [0, 0, 0, 0]],
          [[0, 2, 0, 0],
           [0, 2, 0, 0],
           [0, 2, 0, 0],
           [0, 2, 0, 0]]],

         [[[0, 0, 0, 0],
           [0, 3, 0, 0],
           [0, 3, 3, 3],
           [0, 0, 0, 0]],
          [[0, 0, 0, 0],
           [0, 3, 3, 0],
           [0, 3, 0, 0],
           [0, 3, 0, 0]],
          [[0, 0, 0, 0],
           [3, 3, 3, 0],
           [0, 0, 3, 0],
           [0, 0, 0, 0]],
          [[0, 0, 3, 0],
           [0, 0, 3, 0],
           [0, 3, 3, 0],
           [0, 0, 0, 0]]],

         [[[0, 0, 0, 0],
           [0, 0, 4, 0],
           [4, 4, 4, 0],
           [0, 0, 0, 0]],
          [[0, 4, 0, 0],
           [0, 4, 0, 0],
           [0, 4, 4, 0],
           [0, 0, 0, 0]],
          [[0, 0, 0, 0],
           [0, 4, 4, 4],
           [0, 4, 0, 0],
           [0, 0, 0, 0]],
          [[0, 0, 0, 0],
           [0, 4, 4, 0],
           [0, 0, 4, 0],
           [0, 0, 4, 0]]],

         [[[0, 0, 0, 0],
           [0, 0, 5, 5],
           [0, 5, 5, 0],
           [0, 0, 0, 0]],
          [[0, 0, 0, 0],
           [0, 5, 0, 0],
           [0, 5, 5, 0],
           [0, 0, 5, 0]],
          [[0, 0, 0, 0],
           [0, 5, 5, 0],
           [5, 5, 0, 0],
           [0, 0, 0, 0]],
          [[0, 5, 0, 0],
           [0, 5, 5, 0],
           [0, 0, 5, 0],
           [0, 0, 0, 0]]],

         [[[0, 0, 0, 0],
           [6, 6, 0, 0],
           [0, 6, 6, 0],
           [0, 0, 0, 0]],
          [[0, 0, 6, 0],
           [0, 6, 6, 0],
           [0, 6, 0, 0],
           [0, 0, 0, 0]],
          [[0, 0, 0, 0],
           [0, 6, 6, 0],
           [0, 0, 6, 6],
           [0, 0, 0, 0]],
          [[0, 0, 0, 0],
           [0, 0, 6, 0],
           [0, 6, 6, 0],
           [0, 6, 0, 0]]],

         [[[0, 0, 0, 0],
           [0, 0, 7, 0],
           [0, 7, 7, 7],
           [0, 0, 0, 0]],
          [[0, 0, 0, 0],
           [0, 7, 0, 0],
           [0, 7, 7, 0],
           [0, 7, 0, 0]],
          [[0, 0, 0, 0],
           [7, 7, 7, 0],
           [0, 7, 0, 0],
           [0, 0, 0, 0]],
          [[0, 0, 7, 0],
           [0, 7, 7, 0],
           [0, 0, 7, 0],
           [0, 0, 0, 0]]],

         [[[0, 0, 0, 0],
           [0, 8, 8, 0],
           [0, 8, 8, 0],
           [0, 0, 0, 0]],
          [[0, 0, 0, 0],
           [0, 8, 8, 0],
           [0, 8, 8, 0],
           [0, 0, 0, 0]],
          [[0, 0, 0, 0],
           [0, 8, 8, 0],
           [0, 8, 8, 0],
           [0, 0, 0, 0]],
          [[0, 0, 0, 0],
           [0, 8, 8, 0],
           [0, 8, 8, 0],
           [0, 0, 0, 0]]]]


class Mino():
    def __init__(self, x, y, type_):
        self.x = x
        self.y = y
        self.type_ = type_
        self.mino_list = MINOS[type_]
        self.degree = 0
        self.mino = np.array(self.mino_list[self.degree])

    def collision(self, board):
        h, w = self.mino.shape
        return np.sum(board[self.y:self.y + h, self.x:self.x + w] * self.mino) > 0

    def copyto(self):
        new_mino = Mino(self.x, self.y, self.type_)
        new_mino.copyfrom(self)
        return new_mino

    def copyfrom(self, originmino):
        self.x = originmino.x
        self.y = originmino.y
        self.type_ = originmino.type_
        self.mino_list = originmino.mino_list
        self.degree = originmino.degree
        self.mino = np.copy(originmino.mino)
